<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../displayToc.js"></script>
<script language="JavaScript" src="../../../tocParas.js"></script>
<script language="JavaScript" src="../../../tocTab.js"></script>
<title></title>
<link rel="stylesheet" href="../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#SUBROUTINES">SUBROUTINES</a></li>
  <li><a href="#EXAMPLE">EXAMPLE</a></li>
  <li><a href="#FREQUENTLY-ASKED-QUESTIONS">FREQUENTLY ASKED QUESTIONS</a></li>
  <li><a href="#GENERATING-AND-USING-SSH-KEYS">GENERATING AND USING SSH KEYS</a></li>
  <li><a href="#AUTHORS">AUTHORS</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
  <li><a href="#BUGS">BUGS</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Net::SSH - Perl extension for secure shell</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>  use Net::SSH qw(ssh issh sshopen2 sshopen3);

  ssh(&#39;user@hostname&#39;, $command);

  issh(&#39;user@hostname&#39;, $command);

  ssh_cmd(&#39;user@hostname&#39;, $command);
  ssh_cmd( {
    user =&gt; &#39;user&#39;,
    host =&gt; &#39;host.name&#39;,
    command =&gt; &#39;command&#39;,
    args =&gt; [ &#39;-arg1&#39;, &#39;-arg2&#39; ],
    stdin_string =&gt; &quot;string\n&quot;,
  } );

  sshopen2(&#39;user@hostname&#39;, $reader, $writer, $command);

  sshopen3(&#39;user@hostname&#39;, $writer, $reader, $error, $command);</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Simple wrappers around ssh commands.</p>

<p>For an all-perl implementation that does not require the system <b>ssh</b> command, see <a>Net::SSH::Perl</a> instead.</p>

<h1 id="SUBROUTINES">SUBROUTINES</h1>

<dl>

<dt id="ssh-USER-HOST-COMMAND-ARGS">ssh [USER@]HOST, COMMAND [, ARGS ... ]</dt>
<dd>

<p>Calls ssh in batch mode.</p>

</dd>
<dt id="issh-USER-HOST-COMMAND-ARGS">issh [USER@]HOST, COMMAND [, ARGS ... ]</dt>
<dd>

<p>Prints the ssh command to be executed, waits for the user to confirm, and (optionally) executes the command.</p>

</dd>
<dt id="ssh_cmd-USER-HOST-COMMAND-ARGS">ssh_cmd [USER@]HOST, COMMAND [, ARGS ... ]</dt>
<dd>

</dd>
<dt id="ssh_cmd-OPTIONS_HASHREF">ssh_cmd OPTIONS_HASHREF</dt>
<dd>

<p>Calls ssh in batch mode. Throws a fatal error if data occurs on the command&#39;s STDERR. Returns any data from the command&#39;s STDOUT.</p>

<p>If using the hashref-style of passing arguments, possible keys are:</p>

<pre><code>  user (optional)
  host (requried)
  command (required)
  args (optional, arrayref)
  stdin_string (optional) - written to the command&#39;s STDIN</code></pre>

</dd>
<dt id="sshopen2-USER-HOST-READER-WRITER-COMMAND-ARGS">sshopen2 [USER@]HOST, READER, WRITER, COMMAND [, ARGS ... ]</dt>
<dd>

<p>Connects the supplied filehandles to the ssh process (in batch mode).</p>

</dd>
<dt id="sshopen3-HOST-WRITER-READER-ERROR-COMMAND-ARGS">sshopen3 HOST, WRITER, READER, ERROR, COMMAND [, ARGS ... ]</dt>
<dd>

<p>Connects the supplied filehandles to the ssh process (in batch mode).</p>

</dd>
</dl>

<h1 id="EXAMPLE">EXAMPLE</h1>

<pre><code>  use Net::SSH qw(sshopen2);
  use strict;

  my $user = &quot;username&quot;;
  my $host = &quot;hostname&quot;;
  my $cmd = &quot;command&quot;;

  sshopen2(&quot;$user\@$host&quot;, *READER, *WRITER, &quot;$cmd&quot;) || die &quot;ssh: $!&quot;;

  while (&lt;READER&gt;) {
      chomp();
      print &quot;$_\n&quot;;
  }

  close(READER);
  close(WRITER);</code></pre>

<h1 id="FREQUENTLY-ASKED-QUESTIONS">FREQUENTLY ASKED QUESTIONS</h1>

<p>Q: How do you supply a password to connect with ssh within a perl script using the Net::SSH module?</p>

<p>A: You don&#39;t (at least not with this module). Use RSA or DSA keys. See the quick help in the next section and the ssh-keygen(1) manpage.</p>

<p>A #2: See <a>Net::SSH::Expect</a> instead.</p>

<p>Q: My script is &quot;leaking&quot; ssh processes.</p>

<p>A: See <a href="../../../lib/perl5/5.26.3/pod/perlfaq8.html#How-do-I-avoid-zombies-on-a-Unix-system">&quot;How do I avoid zombies on a Unix system&quot; in perlfaq8</a>, <a href="../../../lib/perl5/5.26.3/IPC/Open2.html">IPC::Open2</a>, <a href="../../../lib/perl5/5.26.3/IPC/Open3.html">IPC::Open3</a> and <a href="../../../lib/perl5/5.26.3/pod/perlfunc.html#waitpid">&quot;waitpid&quot; in perlfunc</a>.</p>

<h1 id="GENERATING-AND-USING-SSH-KEYS">GENERATING AND USING SSH KEYS</h1>

<dl>

<dt id="Generate-keys">1 Generate keys</dt>
<dd>

<p>Type:</p>

<pre><code>   ssh-keygen -t rsa</code></pre>

<p>And do not enter a passphrase unless you wanted to be prompted for one during file copying.</p>

<p>Here is what you will see:</p>

<pre><code>   $ ssh-keygen -t rsa
   Generating public/private rsa key pair.
   Enter file in which to save the key (/home/User/.ssh/id_rsa):
   Enter passphrase (empty for no passphrase):

   Enter same passphrase again:

   Your identification has been saved in /home/User/.ssh/id_rsa.
   Your public key has been saved in /home/User/.ssh/id_rsa.pub.
   The key fingerprint is:
   5a:cd:2b:0a:cd:d9:15:85:26:79:40:0c:55:2a:f4:23 User@JEFF-CPU</code></pre>

</dd>
<dt id="Copy-public-to-machines-you-want-to-upload-to">2 Copy public to machines you want to upload to</dt>
<dd>

<p><code>id_rsa.pub</code> is your public key. Copy it to <code>~/.ssh</code> on target machine.</p>

<p>Put a copy of the public key file on each machine you want to log into. Name the copy <code>authorized_keys</code> (some implementations name this file <code>authorized_keys2</code>)</p>

<p>Then type:</p>

<pre><code>     chmod 600 authorized_keys</code></pre>

<p>Then make sure your home dir on the remote machine is not group or world writeable.</p>

</dd>
</dl>

<h1 id="AUTHORS">AUTHORS</h1>

<p>Ivan Kohler &lt;ivan-netssh_pod@420.am&gt;</p>

<p>Assistance wanted - this module could really use a maintainer with enough time to at least review and apply more patches. Or the module should just be deprecated in favor of Net::SSH::Expect or made into an ::Any style compatibility wrapper that uses whatver implementation is avaialble (Net::SSH2, Net::SSH::Perl or shelling out like the module does now). Please email Ivan if you are interested in helping.</p>

<p>John Harrison &lt;japh@in-ta.net&gt; contributed an example for the documentation.</p>

<p>Martin Langhoff &lt;martin@cwa.co.nz&gt; contributed the ssh_cmd command, and Jeff Finucane &lt;jeff@cmh.net&gt; updated it and took care of the 0.04 release.</p>

<p>Anthony Awtrey &lt;tony@awtrey.com&gt; contributed a fix for those still using OpenSSH v1.</p>

<p>Thanks to terrence brannon &lt;tbone@directsynergy.com&gt; for the documentation in the GENERATING AND USING SSH KEYS section.</p>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Copyright (c) 2004 Ivan Kohler. Copyright (c) 2007-2008 Freeside Internet Services, Inc. All rights reserved. This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1 id="BUGS">BUGS</h1>

<p>Not OO.</p>

<p>Look at IPC::Session (also fsh, well now the native SSH &quot;master mode&quot; stuff)</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>For a perl implementation that does not require the system <b>ssh</b> command, see <a>Net::SSH::Perl</a> instead.</p>

<p>For a wrapper version that allows you to use passwords, see <a>Net::SSH::Expect</a> instead.</p>

<p>For another non-forking version that uses the libssh2 library, see <a>Net::SSH2</a>.</p>

<p>For a way to execute remote Perl code over an ssh connection see <a>IPC::PerlSSH</a>.</p>

<p>ssh-keygen(1), ssh(1), <a href="../../../lib/perl5/5.26.3/x86_64-linux-thread-multi/IO/File.html">IO::File</a>, <a href="../../../lib/perl5/5.26.3/IPC/Open2.html">IPC::Open2</a>, <a href="../../../lib/perl5/5.26.3/IPC/Open3.html">IPC::Open3</a></p>


</body>

</html>


