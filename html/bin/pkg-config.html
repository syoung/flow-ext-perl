<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../displayToc.js"></script>
<script language="JavaScript" src="../tocParas.js"></script>
<script language="JavaScript" src="../tocTab.js"></script>
<title></title>
<link rel="stylesheet" href="../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:support@ActiveState.com" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a>
    <ul>
      <li><a href="#As-a-replacement-for-pkg-config">As a replacement for pkg-config</a></li>
      <li><a href="#From-another-Perl-module">From another Perl module</a></li>
    </ul>
  </li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a>
    <ul>
      <li><a href="#SCRIPT-OPTIONS">SCRIPT OPTIONS</a>
        <ul>
          <li><a href="#USAGE">USAGE</a></li>
          <li><a href="#ARGUMENTS">ARGUMENTS</a>
            <ul>
              <li><a href="#libs">--libs</a></li>
              <li><a href="#libs-only-L">--libs-only-L</a></li>
              <li><a href="#libs-only-l">--libs-only-l</a></li>
              <li><a href="#libs-only-other">--libs-only-other</a></li>
              <li><a href="#list-all">--list-all</a></li>
              <li><a href="#cflags">--cflags</a></li>
              <li><a href="#cflags-only-I">--cflags-only-I</a></li>
              <li><a href="#cflags-only-other">--cflags-only-other</a></li>
              <li><a href="#modversion">--modversion</a></li>
              <li><a href="#static">--static</a></li>
              <li><a href="#exists">--exists</a></li>
              <li><a href="#with-path-PATH">--with-path=PATH</a></li>
              <li><a href="#env-only">--env-only</a></li>
              <li><a href="#guess-paths">--guess-paths</a></li>
              <li><a href="#define-variable-VARIABLE-VALUE">--define-variable=VARIABLE=VALUE</a></li>
              <li><a href="#variable-VARIABLE">--variable=VARIABLE</a></li>
              <li><a href="#print-variables">--print-variables</a></li>
              <li><a href="#version">--version</a></li>
              <li><a href="#real-version">--real-version</a></li>
              <li><a href="#debug">--debug</a></li>
              <li><a href="#silence-errors">--silence-errors</a></li>
              <li><a href="#print-errors">--print-errors</a></li>
              <li><a href="#short-errors">--short-errors</a></li>
              <li><a href="#errors-to-stdout">--errors-to-stdout</a></li>
            </ul>
          </li>
          <li><a href="#ENVIRONMENT">ENVIRONMENT</a></li>
        </ul>
      </li>
      <li><a href="#MODULE-OPTIONS">MODULE OPTIONS</a>
        <ul>
          <li>
            <ul>
              <li><a href="#PkgConfig-find">PkgConfig-&gt;find</a></li>
              <li><a href="#o-errmsg">$o-&gt;errmsg</a></li>
              <li><a href="#o-pkg_exists">$o-&gt;pkg_exists</a></li>
              <li><a href="#o-pkg_version">$o-&gt;pkg_version</a></li>
              <li><a href="#o-get_cflags">$o-&gt;get_cflags</a></li>
              <li><a href="#o-get_ldflags">$o-&gt;get_ldflags</a></li>
              <li><a href="#o-get_var-name">$o-&gt;get_var($name)</a></li>
              <li><a href="#PkgConfig-Guess">PkgConfig-&gt;Guess</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#INSTALL">INSTALL</a></li>
      <li><a href="#CAVEATS">CAVEATS</a></li>
      <li><a href="#BUGS">BUGS</a></li>
    </ul>
  </li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#COPYRIGHT-AND-LICENSE">COPYRIGHT AND LICENSE</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>PkgConfig - Pure-Perl Core-Only replacement for pkg-config</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<h2 id="As-a-replacement-for-pkg-config">As a replacement for <code>pkg-config</code></h2>

<pre><code>    $ ppkg-config --libs --cflags --static gio-2.0

    #outputs (lines artificially broken up for readability):
    # -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include
    # -pthread -lgio-2.0 -lz -lresolv -lgobject-2.0
    # -lgmodule-2.0 -ldl -lgthread-2.0 -pthread -lrt -lglib-2.0</code></pre>

<p><code>pkg-config.pl</code> can be used as an alias for <code>ppkg-config</code> on platforms that support it. It can also be installed as <code>pkg-config</code> though this is not recommended if your system has a native <code>pkg-config</code>.</p>

<p>Compare to: $ pkg-config --libs --cflags --static gio-2.0</p>

<pre><code>    #outputs ( &quot;&quot; ):
    # -pthread -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include
    # -pthread -lgio-2.0 -lz -lresolv -lgobject-2.0 -lgmodule-2.0
    # -ldl -lgthread-2.0 -lrt -lglib-2.0</code></pre>

<h2 id="From-another-Perl-module">From another Perl module</h2>

<pre><code>    use PkgConfig;

    my $o = PkgConfig-&gt;find(&#39;gio&#39;);
    if($o-&gt;errmsg) {
        #handle error
    } else {
        my $prefix = $o-&gt;get_var(&#39;prefix&#39;);
        my @cflags = $o-&gt;get_cflags;
        my @ldflags = $o-&gt;get_ldflags;
    }</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p><code>PkgConfig</code> provides a pure-perl, core-only replacement for the <code>pkg-config</code> utility.</p>

<p>This is not a description of the uses of <code>pkg-config</code> but rather a description of the differences between the C version and the Perl one.</p>

<p>While <code>pkg-config</code> is a compiled binary linked with glib, the pure-perl version has no such requirement, and will run wherever Perl ( &gt;= 5.6 ) does.</p>

<p>The main supported options are the common <code>--libs</code>, <code>--cflags</code>, <code>--static</code>, <code>--exists</code> and <code>--modversion</code>.</p>

<h2 id="SCRIPT-OPTIONS">SCRIPT OPTIONS</h2>

<h3 id="USAGE">USAGE</h3>

<pre><code>    &lt;packagename1 pkgname2..&gt; [ --options ]</code></pre>

<h3 id="ARGUMENTS">ARGUMENTS</h3>

<p>By default, a library name must be supplied unless one of <a>--version</a>, or <a>--real-version</a> is specified.</p>

<p>The output should normally be suitable for passing to your favorite compiler.</p>

<h4 id="libs">--libs</h4>

<p>(Also) print linker flags. Dependencies are traverse in order. Top-level dependencies will appear earlier in the command line than bottom-level dependencies.</p>

<h4 id="libs-only-L">--libs-only-L</h4>

<p>Prints -L/-R part of &quot;--libs&quot;. It defines library search path but without libraries to link with.</p>

<h4 id="libs-only-l">--libs-only-l</h4>

<p>Prints the -l part of &quot;--libs&quot;.</p>

<h4 id="libs-only-other">--libs-only-other</h4>

<p>Prints the part of &quot;--libs&quot; not covered by &quot;--libs-only-L&quot; and &quot;--libs-only-l&quot;, such as &quot;--pthread&quot;.</p>

<h4 id="list-all">--list-all</h4>

<p>List all know packages.</p>

<h4 id="cflags">--cflags</h4>

<p>(Also) print compiler and C preprocessor flags.</p>

<h4 id="cflags-only-I">--cflags-only-I</h4>

<p>Prints the -I part of &quot;--cflags&quot;</p>

<h4 id="cflags-only-other">--cflags-only-other</h4>

<p>Prints the parts of &quot;--cflags&quot; not covered by &quot;--cflags-only-I&quot;.</p>

<h4 id="modversion">--modversion</h4>

<p>Print the version of a given package.</p>

<h4 id="static">--static</h4>

<p>Use extra dependencies and libraries if linking against a static version of the requested library</p>

<h4 id="exists">--exists</h4>

<p>Return success (0) if the package exists in the search path.</p>

<h4 id="with-path-PATH">--with-path=PATH</h4>

<p>Prepend <code>PATH</code> to the list of search paths containing <code>.pc</code> files.</p>

<p>This option can be specified multiple times with different paths, and they will all be added.</p>

<h4 id="env-only">--env-only</h4>

<p>Using this option, <b>only</b> paths specified in <code>PKG_CONFIG_PATH</code> are recognized and any hard-coded defaults are ignored.</p>

<h4 id="guess-paths">--guess-paths</h4>

<p>Invoke <code>gcc</code> and <code>ld</code> to determine default linker and include paths. Default paths will be excluded from explicit -L and -I flags.</p>

<h4 id="define-variable-VARIABLE-VALUE">--define-variable=VARIABLE=VALUE</h4>

<p>Define a variable, overriding any such variable definition in the .pc file, and allowing your value to interpolate with subsequent uses.</p>

<h4 id="variable-VARIABLE">--variable=VARIABLE</h4>

<p>This returns the value of a variable defined in a package&#39;s .pc file.</p>

<h4 id="print-variables">--print-variables</h4>

<p>Print all defined variables found in the .pc files.</p>

<h4 id="version">--version</h4>

<p>The target version of <code>pkg-config</code> emulated by this script</p>

<h4 id="real-version">--real-version</h4>

<p>The actual version of this script</p>

<h4 id="debug">--debug</h4>

<p>Print debugging information</p>

<h4 id="silence-errors">--silence-errors</h4>

<p>Turn off errors. This is the default for non-libs/cflag/modversion arguments</p>

<h4 id="print-errors">--print-errors</h4>

<p>Print errors to STDERR and takes precedence over <code>--silence-errors</code></p>

<h4 id="short-errors">--short-errors</h4>

<p>Ignored, but recognized for compatibility.</p>

<h4 id="errors-to-stdout">--errors-to-stdout</h4>

<p>Print errors to STDOUT and takes precedence over <code>--print-errors</code></p>

<h3 id="ENVIRONMENT">ENVIRONMENT</h3>

<p>the <code>PKG_CONFIG_PATH</code> and <code>PKG_CONFIG_LIBDIR</code> variables are honored and used as a colon-delimited (semicolon-delimited on Windows) list of directories with contain <code>.pc</code> files.</p>

<p>Other environment variables recongized by both <code>pkg-config</code> and <a href="../../../root/.cpanm/work/1586740115.5251/PkgConfig-0.23026/blib/lib/PkgConfig.html">PkgConfig</a> include:</p>

<dl>

<dt id="PKG_CONFIG_ALLOW_SYSTEM_CFLAGS">PKG_CONFIG_ALLOW_SYSTEM_CFLAGS</dt>
<dd>

</dd>
<dt id="PKG_CONFIG_ALLOW_SYSTEM_LIBS">PKG_CONFIG_ALLOW_SYSTEM_LIBS</dt>
<dd>

</dd>
</dl>

<p>If <a>Win32API::Registry</a> is installed, on Windows (but not Cygwin) <a href="../../../root/.cpanm/work/1586740115.5251/PkgConfig-0.23026/blib/lib/PkgConfig.html">PkgConfig</a> will also consult these registry keys. The names are ignored, but the values are paths containing <code>.pc</code> files.</p>

<dl>

<dt id="HKEY_CURRENT_USER-Software-pkgconfig-PKG_CONFIG_PATH">HKEY_CURRENT_USER\Software\pkgconfig\PKG_CONFIG_PATH</dt>
<dd>

</dd>
<dt id="HKEY_LOCAL_MACHINE-Software-pkgconfig-PKG_CONFIG_PATH">HKEY_LOCAL_MACHINE\Software\pkgconfig\PKG_CONFIG_PATH</dt>
<dd>

</dd>
</dl>

<p>Registry support should be considered somewhat experimental, subject to change in the future, though not without good reason. The rationale for this caveat is that this feature is documented in several places, but I have yet to find a working version that implements this feature.</p>

<h2 id="MODULE-OPTIONS">MODULE OPTIONS</h2>

<h4 id="PkgConfig-find"><i>PkgConfig-&gt;find</i></h4>

<pre><code>    my $result = PkgConfig-&gt;find($library, %options);</code></pre>

<p>Find a library and return a result object. <code>$library</code> can be either a single name of a library, or a reference to an array of library names</p>

<p>The options are in the form of hash keys and values, and the following are recognized:</p>

<dl>

<dt id="search_path"><code>search_path</code></dt>
<dd>

</dd>
<dt id="search_path_override"><code>search_path_override</code></dt>
<dd>

<p>Prepend search paths in addition to the paths specified in <code>$ENV{PKG_CONFIG_PATH}</code> The value is an array reference.</p>

<p>the <code>_override</code> variant ignores defaults (like <code>PKG_CONFIG_PATH</code>).</p>

</dd>
<dt id="file_path"><code>file_path</code></dt>
<dd>

<p>Specifies the full path of the of the .pc file that you wish to load. It does not need to be in the search path (although any dependencies will need to be). Useful if you know the full path of the exact .pc file that you want.</p>

</dd>
<dt id="exclude_cflags"><code>exclude_cflags</code></dt>
<dd>

</dd>
<dt id="exclude_ldflags"><code>exclude_ldflags</code></dt>
<dd>

</dd>
<dt id="exclude_cflags_override"><code>exclude_cflags_override</code></dt>
<dd>

</dd>
<dt id="exclude_ldflags_override"><code>exclude_ldflags_override</code></dt>
<dd>

<p>Some <code>.pc</code> files specify default compiler and linker search paths, e.g. <code>-I/usr/include -L/usr/lib</code>. Specifying them on the command line can be problematic as it drastically changes the search order.</p>

<p>The above options will either append or replace the options which are excluded and filtered.</p>

<p>The default excluded linker and compiler options can be obtained via <code>@PkgConfig::DEFAULT_EXCLUDE_LFLAGS</code> and <code>@PkgConfig::DEFAULT_EXCLUDE_CFLAGS</code>, respectively.</p>

</dd>
<dt id="static1"><code>static</code></dt>
<dd>

<p>Also specify static libraries.</p>

</dd>
<dt id="no_recurse"><code>no_recurse</code></dt>
<dd>

<p>Do not recurse dependencies. This is useful for just doing version checks.</p>

</dd>
<dt id="VARS"><code>VARS</code></dt>
<dd>

<p>Define a hashref of variables to override any variable definitions within the .pc files. This is equivalent to the <code>--define-variable</code> command-line option.</p>

</dd>
</dl>

<p>A <code>PkgConfig</code> object is returned and may be queried about the results:</p>

<h4 id="o-errmsg"><i>$o-&gt;errmsg</i></h4>

<p>An error message, if any. This is a string and indicates an error.</p>

<h4 id="o-pkg_exists"><i>$o-&gt;pkg_exists</i></h4>

<p>Boolean value, true if the package exists.</p>

<h4 id="o-pkg_version"><i>$o-&gt;pkg_version</i></h4>

<p>The version of the package</p>

<h4 id="o-get_cflags"><i>$o-&gt;get_cflags</i></h4>

<h4 id="o-get_ldflags"><i>$o-&gt;get_ldflags</i></h4>

<p>Returns compiler and linker flags, respectively.</p>

<p>In list context, these methods return a list with each argument split on unescaped spaces.</p>

<p>In list context returns a list of compiler and linker flags, respectively.</p>

<p>In scalar context returns a string of compiler and linker flags with spaces and quotes escaped correctly.</p>

<h4 id="o-get_var-name"><i>$o-&gt;get_var($name)</i></h4>

<p>Get the variable with the given name.</p>

<h4 id="PkgConfig-Guess"><i>PkgConfig-&gt;Guess</i></h4>

<p>This is a class method, and will replace the hard-coded default linker and include paths with those discovered by invoking <a href="http://man.he.net/man1/ld">ld(1)</a> and <a href="http://man.he.net/man1/cpp">cpp(1)</a>.</p>

<p>Currently this only works with GCC-supplied <code>ld</code> and GNU <code>ld</code>.</p>

<h2 id="INSTALL">INSTALL</h2>

<p>The <code>Makefile.PL</code> that comes with <code>PkgConfig</code> can take one or more <code>--script</code> options to change of the name of the script or scripts that are installed.</p>

<dl>

<dt id="script-ppkg-config">--script ppkg-config</dt>
<dd>

<p>This is the default and works on all platforms</p>

</dd>
<dt id="script-pkg-config.pl">--script pkg-config.pl</dt>
<dd>

<p>This is installed by default on all platforms except for Windows, where the .pl may confuse the shell and cause the script to be opened in a text editor.</p>

</dd>
<dt id="script-pkg-config">--script pkg-config</dt>
<dd>

<p>This is the default name of the real <code>pkg-config</code> and so you have to specifically enable it if you want it.</p>

</dd>
<dt id="script-none">--script none</dt>
<dd>

<p>Don&#39;t install any scripts.</p>

</dd>
</dl>

<p>Example, install all script names:</p>

<pre><code> % perl Makefile.PL --script ppkg-config --script pkg-config.pl --script pkg-config</code></pre>

<p>Example, don&#39;t install any scripts:</p>

<pre><code> % perl Makefile.PL --script none</code></pre>

<p>You can also set the environment variable PERL_PKG_CONFIG_SCRIPTS to the desired --script value (separating each script name with a comma <code>,</code>) to ensure that upgrades of PkgConfig do the same.</p>

<h2 id="CAVEATS">CAVEATS</h2>

<p>On Strawberry Perl <code>ppkg-config</code> acts like Strawberry is the system. This means that</p>

<ul>

<li><p>The .pc files that are bundled with Strawberry are searched by default.</p>

</li>
<li><p>The Strawberry include and lib directories are used to compute the exclusion lists.</p>

</li>
</ul>

<p>As of Strawberry 5.20.0.1 PkgConfig is bundled with Strawberry and <code>pkg-config</code> is installed by default (in addition to <code>ppkg-config</code>, though the <code>ppkg-config</code> alias is NOT bundled with Strawberry itself).</p>

<p>For details on how to patch the .pc files bundled with older Strawberries, see the <code>README.win32</code> that comes with this Distribution.</p>

<h2 id="BUGS">BUGS</h2>

<p>The order of the flags is not exactly matching to that of <code>pkg-config</code>. From my own observation, it seems this module does a better job, but I might be wrong.</p>

<p>Unlike <code>pkg-config</code>, the scripts <code>--exists</code> function will return nonzero if a package <b>or</b> any of its dependencies are missing. This differs from the behavior of <code>pkg-config</code> which will just check for the definition of the package itself (without dependencies).</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<dl>

<dt id="pkg-config"><a href="http://www.freedesktop.org/wiki/Software/pkg-config">pkg-config</a></dt>
<dd>

<p>The original C implementation</p>

</dd>
<dt id="pkgconf"><a href="https://github.com/pkgconf/pkgconf">pkgconf</a></dt>
<dd>

<p>An alternative C implementation</p>

</dd>
<dt id="PkgConfig::LibPkgConf"><a>PkgConfig::LibPkgConf</a></dt>
<dd>

<p>Perl bindings for <code>libpkgconf</code>, the same library that <code>pkgconf</code> is built on.</p>

</dd>
<dt id="ExtUtils::PkgConfig"><a>ExtUtils::PkgConfig</a></dt>
<dd>

<p>A wrapper around the <code>pkg-config</code> binary that can be used in your <code>Makefile.PL</code> or <code>Build.PL</code>.</p>

</dd>
<dt id="http:-www.openbsd.org-cgi-bin-cvsweb-src-usr.bin-pkg-config"><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/pkg-config/">http://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/pkg-config/</a></dt>
<dd>

<p>Another perl implementation of pkg-config</p>

</dd>
<dt id="pkg-config1"><a href="https://github.com/ruby-gnome2/pkg-config">pkg-config</a></dt>
<dd>

<p>Pure Ruby implementation.</p>

</dd>
<dt id="pykg-config"><a href="https://pypi.python.org/pypi/pykg-config/1.2.0">pykg-config</a></dt>
<dd>

<p>A Python implementation.</p>

</dd>
</dl>

<h1 id="AUTHOR">AUTHOR</h1>

<dl>

<dt id="Original-Author:-M.-Nunberg">Original Author: M. Nunberg</dt>
<dd>

</dd>
<dt id="Current-maintainer:-Graham-Ollis-plicease-cpan.org">Current maintainer: Graham Ollis &lt;plicease@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<p>Other contributors include:</p>

<dl>

<dt id="Vladimir-Timofeev-vovkasm">Vladimir Timofeev (vovkasm)</dt>
<dd>

</dd>
<dt id="kmx">kmx</dt>
<dd>

</dd>
<dt id="Sanel-Zukan">Sanel Zukan</dt>
<dd>

</dd>
<dt id="Breno-G.-de-Oliveira-garu">Breno G. de Oliveira (garu)</dt>
<dd>

</dd>
<dt id="Gregor-Herrmann">Gregor Herrmann</dt>
<dd>

</dd>
<dt id="Ilya-Pavlov-ILUX-Ilya33">Ilya Pavlov (ILUX, Ilya33)</dt>
<dd>

</dd>
<dt id="Shawn-Laffan-SLAFFAN-shawnlaffan">Shawn Laffan (SLAFFAN, shawnlaffan)</dt>
<dd>

</dd>
<dt id="Ari-Jolma-AJOLMA">Ari Jolma (AJOLMA)</dt>
<dd>

</dd>
</dl>

<h1 id="COPYRIGHT-AND-LICENSE">COPYRIGHT AND LICENSE</h1>

<p>Copyright (C) 2012 M. Nunberg</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>


</body>

</html>


